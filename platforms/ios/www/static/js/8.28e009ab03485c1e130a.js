webpackJsonp([8],{7548:function(t,e){},DKgh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("mvHQ"),s=a.n(o),i=a("GAEH"),l=a("uaoT"),n=a("z6RP"),r={data:function(){return{ciphertext:"",pwd:"",btnStyle:"",isNotEmpty:!1,showPwd:!1,showToast:!1,msg:"",loading:!1,wallet:""}},components:{Toast:l.a,Loading:n.a},watch:{wallet:function(t){this.color(t)}},mounted:function(){},methods:{showInputPwd:function(){return""===this.wallet?(this.showToast=!0,this.msg="common.notNull",!1):"similarName"==this.isSimilarWallet(JSON.parse(this.wallet))?(this.showToast=!0,void(this.msg="common.haveSimilarName")):"similarAddress"==this.isSimilarWallet(JSON.parse(this.wallet))?(this.showToast=!0,void(this.msg="common.haveSimilarWallet")):void(this.showPwd=!0)},color:function(t){""!==t?(this.isNotEmpty=!0,this.btnStyle={background:"#EC4B4B"}):(this.isNotEmpty=!1,this.btnStyle="")},importWallet:function(){var t=this,e=this;if(""==this.pwd)return this.showToast=!0,this.msg="common.pwdNotNull",!1;this.showPwd=!1,this.loading=!0;var a=new i.a;this.ciphertext=JSON.parse(this.wallet).ciphertext,console.log(JSON.parse(this.wallet)),console.log(this.ciphertext),this.$axios.post(this.baseUrl+"/wallet/get",{itext:a.encode(s()(this.ciphertext)),ptext:a.encode(this.pwd)}).then(function(t){if(e.loading=!1,0==t.data.code){var a=t.data.data;if(localStorage.address=a.address,localStorage.currentWallet=e.wallet,localStorage.name=JSON.parse(e.wallet).name,void 0!=localStorage.wallet){var o=JSON.parse(localStorage.wallet);if(o instanceof Array){for(var i=!1,l=0;l<o.length;l++)if(o[l].name==JSON.parse(e.wallet).name){i=!0;break}i||(o.push(JSON.parse(e.wallet)),localStorage.wallet=s()(o))}else{var n=[];n[0]=o,n.push(e.wallet),localStorage.wallet=s()(n)}}else{var r=[];r[0]=JSON.parse(e.wallet),localStorage.wallet=s()(r)}e.$router.push({name:"wallet",params:{address:a.address}})}else e.showToast=!0,e.msg="common.pwdKeyError"}).catch(function(a){return t.loading=!1,t.showToast=!0,e.msg="keyimport.importError",!1})},showToastVal:function(t){this.showToast=t},closePwd:function(){this.showPwd=!1},compile:function(t){for(var e=String.fromCharCode(t.charCodeAt(0)+t.length),a=1;a<t.length;a++)e+=String.fromCharCode(t.charCodeAt(a)+t.charCodeAt(a-1));return escape(e)}},directives:{focus:{inserted:function(t){t.focus()}}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"keyImport"},[a("div",{staticClass:"keyImport-contain"},[a("div",{staticClass:"keyprivate",attrs:{contenteditable:"true",placeholder:"key private"},on:{input:function(e){t.wallet=e.target.innerHTML}},model:{value:t.wallet,callback:function(e){t.wallet=e},expression:"wallet"}}),t._v(" "),a("a",{style:t.btnStyle,on:{click:function(e){t.showInputPwd()}}},[t._v(t._s(t.$t("keyimport.import")))])]),t._v(" "),t.showPwd?a("div",{staticClass:"pwd-content"},[a("form",{staticClass:"pwd-toast"},[a("div",{staticClass:"pwd-close",on:{click:function(e){t.closePwd()}}},[a("i"),t._v(" "),a("i")]),t._v(" "),a("div",{staticClass:"pwd-input"},[a("h4",[t._v(t._s(t.$t("common.openPwdTitle")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"},{name:"focus",rawName:"v-focus"}],attrs:{type:"password"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"pwd-btn"},[a("a",{on:{click:function(e){t.importWallet()}}},[t._v(t._s(t.$t("common.open")))])])])]):t._e(),t._v(" "),t.showToast?a("Toast",{attrs:{msg:t.msg},on:{showToast:function(e){t.showToastVal(e)}}}):t._e(),t._v(" "),t.loading?a("Loading"):t._e()],1)},staticRenderFns:[]};var d=a("VU/8")(r,c,!1,function(t){a("7548")},"data-v-1c5378f2",null);e.default=d.exports}});