webpackJsonp([5],{"1pp6":function(t,e,s){"use strict";var i={props:{fileList:Array},data:function(){return{}},methods:{close:function(t){"fileList"===t.target.className&&this.$emit("closFileList",null)},iosReadFile:function(t){console.log("jin");var e=this;t.file(function(t){var s=new FileReader;s.onloadend=function(){console.log("file read success:"+this.result),e.$emit("closFileList",this.result)},s.readAsText(t)},e.onErrorReadFile)},onErrorReadFile:function(){console.log("读取文件失败")}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fileList",on:{click:function(e){e.preventDefault(),t.close(e)}}},[s("div",{staticClass:"list-content"},[s("div",{staticClass:"listgroup"},t._l(t.fileList,function(e,i){return s("div",{key:i,staticClass:"list",on:{click:function(s){t.iosReadFile(e)}}},[s("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"address"},[t._v(t._s(e.address))])])}))])])},staticRenderFns:[]};var o=s("VU/8")(i,a,!1,function(t){s("HaNC")},"data-v-02ff53ae",null);e.a=o.exports},"43ZL":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),o=s("GAEH"),l={data:function(){return{locale:"en",isLang:"0"==localStorage.lng,footerStyle:""}},watch:{locale:function(t){this.$i18n.locale=t}},mounted:function(){"1"==localStorage.lng?this.locale="en":this.locale="cn",localStorage.lng="en"==this.locale?"1":"0"},methods:{getData:function(){this.$axios.get("../static/chinese.json").then(function(t){})},onCn:function(){this.isLang=!0,this.locale="cn",localStorage.lng="0"},onEn:function(){this.isLang=!1,this.locale="en",localStorage.lng="1"}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer",style:t.footerStyle},[s("div",{class:{active:t.isLang},on:{click:function(e){t.onCn()}}},[t._v("中文")]),t._v(" "),s("div",{class:{active:!t.isLang},on:{click:function(e){t.onEn()}}},[t._v("English")])])},staticRenderFns:[]};var r=s("VU/8")(l,n,!1,function(t){s("uiDw")},"data-v-22d4772c",null).exports,c=s("uaoT"),h=s("z6RP"),d=s("1pp6"),u={data:function(){return{btnStyle:{backgroundImage:"url("+s("WxoH")+")"},showPwd:!1,openPwd:"",imgStyle:"",marginStyle:"",showToast:!1,msg:"",ciphertext:"",loading:!1,isMobile:!1,objStyle:{},wallet:"",titleStyle:"",orStyle:"",hasFile:!1,isIOS:!1,fileList:[{name:"a",address:"ahdukshfkstrhtikrnkfhiurbgk"},{name:"a",address:"ahdukshfkstrhtikrnkfhiurbgk"}]}},components:{Lang:r,Toast:c.a,Loading:h.a,FileList:d.a},created:function(){this.styleChang(),void 0==localStorage.wallet&&(localStorage.to_path="")},mounted:function(){/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?(this.isIOS=!0,this.isMobile=!0,this.btnStyle.height="13.6rem",this.orStyle={display:"none"},this.titleStyle={fontSize:"1.2rem",lineHeight:"1.8rem"}):/(Android)/i.test(navigator.userAgent)?(this.isMobile=!0,this.btnStyle.height="13.6rem",this.orStyle={display:"none"},this.titleStyle={fontSize:"1.2rem",lineHeight:"1.8rem"}):this.isMobile=!1},methods:{styleChang:function(){window.screen.availHeight<850&&(document.documentElement.style.fontSize="14px",this.btnStyle.height="12rem",this.marginStyle={marginBottom:"1rem"},this.imgStyle={height:"8rem",width:"8rem"})},mobileOpen:function(){this.$router.push("keyimport")},getAndReadFile:function(){var t=this;console.log("进入文件读取系统"),window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(e){console.log("打开的文件系统: "+e.name),e.root.getDirectory("ACCEdata",{create:!0},function(e){console.log("进了"),e.createReader().readEntries(function(e){if(e.length>0){t.hasFile=!0,t.fileList=e;for(var s=0;s<e.length;s++){var i=e[s],a=i.fullPath.split("ACCEdata/")[1];console.log(a),t.fileList[s].name=a.split("-")[0],t.fileList[s].address=a.split("-")[1],console.log(i)}}else t.showToast=!0,t.msg="slash.nodata",setTimeout(function(){t.showToast=!1},2e3)})},t.onErrorGetDir)},t.onErrorLoadFs)},onErrorGetDir:function(){console.log("文件夹创建失败！")},onErrorLoadFs:function(t){console.log("文件系统加载失败！")},onErrorCreateFile:function(t){console.log("文件创建失败！")},mobileOpenFile:function(t){console.log("1");var e=this,s=t.target.value.substr(t.target.value.lastIndexOf(".")).toLowerCase().substr(1),i=t.target.files[0];console.log("2");var a=new FileReader;""!=s?a.readAsText(i,"gb2312"):a.readAsText(i),a.onload=function(t){console.log("read success");var s=JSON.parse(t.target.result);return"similarName"==e.isSimilarWallet(s)?(e.showToast=!0,void(e.msg="common.haveSimilarName")):"similarAddress"==e.isSimilarWallet(s)?(e.showToast=!0,void(e.msg="common.haveSimilarWallet")):(e.showPwd=!0,localStorage.name=s.name,e.ciphertext=s.ciphertext,e.wallet=s,void(e.showPwd=!0))}},pcOpen:function(t){var e=this,s=t.target.value.substr(t.target.value.lastIndexOf(".")).toLowerCase().substr(1),i=t.target.files[0],a=new FileReader;""!=s?a.readAsText(i,"gb2312"):a.readAsText(i),a.onload=function(t){var s=JSON.parse(this.result);return"similarName"==e.isSimilarWallet(s)?(e.showToast=!0,void(e.msg="common.haveSimilarName")):"similarAddress"==e.isSimilarWallet(s)?(e.showToast=!0,void(e.msg="common.haveSimilarWallet")):(e.showPwd=!0,localStorage.name=s.name,e.ciphertext=s.ciphertext,void(e.wallet=s))}},showToastVal:function(t){this.openPwd="",this.$refs.filepath.value="",this.showToast=t},closePwd:function(){this.showPwd=!1},closFileList:function(t){if(this.hasFile=!1,t){var e=JSON.parse(t);if("similarName"==this.isSimilarWallet(e))return this.showToast=!0,void(this.msg="common.haveSimilarName");if("similarAddress"==this.isSimilarWallet(e))return this.showToast=!0,void(this.msg="common.haveSimilarWallet");this.showPwd=!0,localStorage.name=e.name,this.ciphertext=e.ciphertext,this.wallet=e}},openWallet:function(){var t=this;if(""==this.openPwd)return this.showToast=!0,this.msg="common.pwdNotNull",!1;var e=new o.a;console.log(e),this.showPwd=!1,this.loading=!0,console.log(a()(this.ciphertext)),this.$axios.post(this.baseUrl+"/wallet/get",{itext:e.encode(a()(this.ciphertext)),ptext:e.encode(this.openPwd)}).then(function(e){if(t.loading=!1,0==e.data.code){var s=e.data.data;if(localStorage.address=s.address,localStorage.currentWallet=a()(t.wallet),void 0!=localStorage.wallet){var i=JSON.parse(localStorage.wallet);console.log(i);for(var o=!1,l=0;l<i.length;l++)if(i[l].name==t.wallet.name){o=!0;break}o||(i.push(t.wallet),localStorage.wallet=a()(i))}else{var n=[];n[0]=t.wallet,localStorage.wallet=a()(n)}t.$router.push("wallet")}else t.showToast=!0,t.msg="common.pwdError"}).catch(function(t){console.log(t)})},compile:function(t){for(var e=String.fromCharCode(t.charCodeAt(0)+t.length),s=1;s<t.length;s++)e+=String.fromCharCode(t.charCodeAt(s)+t.charCodeAt(s-1));return escape(e)}},directives:{focus:{inserted:function(t){t.focus()}}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slash"},[i("img",{style:t.imgStyle,attrs:{src:s("iQH9")}}),t._v(" "),i("div",{staticClass:"slash-title"},[i("h1",[t._v(t._s(t.$t("slash.tip"))+"\n      "),i("span",{staticStyle:{"font-size":"12px"}})]),t._v(" "),i("h2",{style:t.titleStyle},[t._v(t._s(t.$t("slash.title1")))]),t._v(" "),i("div",{staticClass:"shortLine"})]),t._v(" "),i("div",{staticClass:"btn-content",style:t.btnStyle},[i("router-link",{staticClass:"createNew",style:t.marginStyle,attrs:{to:"/create"}},[t._v(t._s(t.$t("slash.createWallet")))]),t._v(" "),i("div",{staticClass:"line",style:t.orStyle},[i("img",{attrs:{src:s("nOeb"),height:"3",width:"45%"}}),t._v(" "),i("span",[t._v(t._s(t.$t("slash.or")))]),t._v(" "),i("img",{attrs:{src:s("nOeb"),height:"3",width:"45%"}})]),t._v(" "),t.isMobile?i("a",{staticClass:"openOther",style:t.marginStyle,on:{click:t.mobileOpen}},[t._v(t._s(t.$t("slash.openWallet0")))]):t._e(),t._v(" "),t.isMobile?i("label",{staticClass:"openOther",style:t.marginStyle},[t.isIOS?t._e():i("input",{ref:"filepath",attrs:{type:"file"},on:{change:function(e){t.mobileOpenFile(e)}}}),t._v(" "),t.isIOS?t._e():i("a",[t._v(t._s(t.$t("slash.openWallet")))]),t._v(" "),t.isIOS?i("a",{ref:"filepath",staticClass:"openOther",on:{click:function(e){t.getAndReadFile()}}},[t._v(t._s(t.$t("slash.openWallet")))]):t._e()]):t._e(),t._v(" "),t.isMobile?t._e():i("label",{staticClass:"openOther",style:t.marginStyle},[i("input",{ref:"filepath",attrs:{type:"file"},on:{change:function(e){t.pcOpen(e)}}}),t._v(" "),i("a",[t._v(t._s(t.$t("slash.openWallet")))])])],1),t._v(" "),t.showPwd?i("div",{staticClass:"pwd-content"},[i("form",{staticClass:"pwd-toast"},[i("div",{staticClass:"pwd-close",on:{click:function(e){t.closePwd()}}},[i("i"),t._v(" "),i("i")]),t._v(" "),i("div",{staticClass:"pwd-input"},[i("h4",[t._v(t._s(t.$t("common.openPwdTitle")))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.openPwd,expression:"openPwd"},{name:"focus",rawName:"v-focus"}],attrs:{type:"password"},domProps:{value:t.openPwd},on:{input:function(e){e.target.composing||(t.openPwd=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"pwd-btn"},[i("a",{on:{click:function(e){t.openWallet()}}},[t._v(t._s(t.$t("common.open")))])])])]):t._e(),t._v(" "),t.hasFile?i("file-list",{attrs:{fileList:t.fileList},on:{closFileList:function(e){t.closFileList(e)}}}):t._e(),t._v(" "),t.showToast?i("Toast",{attrs:{msg:t.msg},on:{showToast:function(e){t.showToastVal(e)}}}):t._e(),t._v(" "),t.loading?i("Loading"):t._e(),t._v(" "),i("Lang")],1)},staticRenderFns:[]};var m=s("VU/8")(u,g,!1,function(t){s("NhQV")},"data-v-e817f492",null);e.default=m.exports},HaNC:function(t,e){},NhQV:function(t,e){},WxoH:function(t,e,s){t.exports=s.p+"static/img/hua.7c1f4ce.png"},iQH9:function(t,e,s){t.exports=s.p+"static/img/logo.03a0e2a.png"},nOeb:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI0AAAADCAYAAACu5IwNAAAABGdBTUEAALGPC/xhBQAAADtJREFUOBFj/P//vzQDAwMvEI+C0RAgJgQ+swBVCQCxKDGqR9WMhgAwBJhBieYDEP8dDY7RECAyBD4DAASiBypQXispAAAAAElFTkSuQmCC"},uiDw:function(t,e){}});